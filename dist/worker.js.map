{
  "version": 3,
  "sources": ["schema-validation:zuplo:schema-validations", "raw-route:zuplo:raw-routes", "open-api-routes-json:/usr/dev/projects/fe370742e3fe9756bb64f8f1905f6aacb0df89e2/rose_proper_loon/websockets-zuplo-gtw/.zuplo/zuplo:routes", "../.zuplo/worker.ts", "runtime-settings:zuplo:runtime-settings", "../.zuplo/build.json"],
  "sourcesContent": ["", "export var _routes__SLASH_ws_SLASH_akamai_get = {\n  summary: \"Web Socket Test\",\n  description: \"Lorem ipsum\",\n  [\"x-zuplo-route\"]: {\n    corsPolicy: \"none\",\n    handler: {\n      export: \"webSocketPipelineHandler\",\n      module: \"$import(@zuplo/runtime)\",\n      options: {\n        rewritePattern: \"wss://www.julian-labs.com/websocket\",\n        policies: {\n          inbound: [{\n            export: \"inboundFirewallPolicy\",\n            module: \"$import(./modules/ws-inbound-firewall)\"\n          }],\n          outbound: [{\n            export: \"outboundFirewallPolicy\",\n            module: \"$import(./modules/ws-inbound-firewall)\"\n          }]\n        }\n      }\n    }\n  },\n  operationId: \"fads98767sdsdfk-sd7678-8889\"\n};\nexport var _routes__SLASH_ws_SLASH_openai_get = {\n  summary: \"OpenAI Realtime WebSocket\",\n  description: \"Tunnel to OpenAI Realtime API\",\n  [\"x-zuplo-route\"]: {\n    corsPolicy: \"none\",\n    handler: {\n      export: \"webSocketPipelineHandler\",\n      module: \"$import(@zuplo/runtime)\",\n      options: {\n        rewritePattern: \"wss://api.openai.com/v1/realtime?model=${env.OPENAI_REALTIME_MODEL}\",\n        policies: {\n          inbound: [{\n            export: \"inboundFirewallPolicy\",\n            module: \"$import(./modules/ws-inbound-firewall)\"\n          }],\n          outbound: [{\n            export: \"outboundFirewallPolicy\",\n            module: \"$import(./modules/ws-inbound-firewall)\"\n          }]\n        }\n      }\n    },\n    policies: {\n      inbound: [\"set-headers-inbound\"]\n    }\n  },\n  operationId: \"openai-realtime-route\"\n};\nexport var _routes__SLASH_ws_SLASH_echo_get = {\n  summary: \"Web Socket Test\",\n  description: \"Lorem ipsum\",\n  [\"x-zuplo-route\"]: {\n    corsPolicy: \"none\",\n    handler: {\n      export: \"webSocketPipelineHandler\",\n      module: \"$import(@zuplo/runtime)\",\n      options: {\n        rewritePattern: \"wss://lone-wolf-1.herokuapp.com/websocket\",\n        policies: {\n          inbound: [{\n            export: \"inboundFirewallPolicy\",\n            module: \"$import(./modules/ws-inbound-firewall)\"\n          }],\n          outbound: [{\n            export: \"outboundFirewallPolicy\",\n            module: \"$import(./modules/ws-inbound-firewall)\"\n          }]\n        }\n      }\n    }\n  },\n  operationId: \"91f50fa7-c8ce-4c21-986a-afeedf9abb6d\"\n};\n", "\n  import { environment } from \"@zuplo/runtime\";\n  import * as rawRouteData from \"zuplo:raw-routes\";\n  const routes = async () => {\n    const __import0 = await import(\"@zuplo/runtime\");\n    const __import1 = await import(\"../modules/ws-inbound-firewall\");\n    return {\n      routes: [\n        {metadata:{filepath:\"./config/routes.oas.json\",},raw:() => {return rawRouteData._routes__SLASH_ws_SLASH_echo_get;},methods:[\"GET\",],pathPattern:\"/ws/echo{/}?\",path:\"/ws/echo\",corsPolicy:\"none\",handler:{export:\"webSocketPipelineHandler\",module:__import0,options:{rewritePattern:\"wss://lone-wolf-1.herokuapp.com/websocket\",policies:{inbound:[{export:\"inboundFirewallPolicy\",module:__import1,},],outbound:[{export:\"outboundFirewallPolicy\",module:__import1,},],},__rewriteFunction:(request, context) => {\n    const { params, url, query, method, headers } = request;\n    const { host, hostname, origin, pathname, port, search } = new URL(url);\n    const e = encodeURIComponent;\n    const env = environment;\n    return `wss://lone-wolf-1.herokuapp.com/websocket`\n  },},},},\n        {metadata:{filepath:\"./config/routes.oas.json\",},raw:() => {return rawRouteData._routes__SLASH_ws_SLASH_openai_get;},methods:[\"GET\",],pathPattern:\"/ws/openai{/}?\",path:\"/ws/openai\",corsPolicy:\"none\",handler:{export:\"webSocketPipelineHandler\",module:__import0,options:{rewritePattern:\"wss://api.openai.com/v1/realtime?model=${env.OPENAI_REALTIME_MODEL}\",policies:{inbound:[{export:\"inboundFirewallPolicy\",module:__import1,},],outbound:[{export:\"outboundFirewallPolicy\",module:__import1,},],},__rewriteFunction:(request, context) => {\n    const { params, url, query, method, headers } = request;\n    const { host, hostname, origin, pathname, port, search } = new URL(url);\n    const e = encodeURIComponent;\n    const env = environment;\n    return `wss://api.openai.com/v1/realtime?model=${env.OPENAI_REALTIME_MODEL}`\n  },},},policies:{inbound:[\"set-headers-inbound\",],},},\n        {metadata:{filepath:\"./config/routes.oas.json\",},raw:() => {return rawRouteData._routes__SLASH_ws_SLASH_akamai_get;},methods:[\"GET\",],pathPattern:\"/ws/akamai{/}?\",path:\"/ws/akamai\",corsPolicy:\"none\",handler:{export:\"webSocketPipelineHandler\",module:__import0,options:{rewritePattern:\"wss://www.julian-labs.com/websocket\",policies:{inbound:[{export:\"inboundFirewallPolicy\",module:__import1,},],outbound:[{export:\"outboundFirewallPolicy\",module:__import1,},],},__rewriteFunction:(request, context) => {\n    const { params, url, query, method, headers } = request;\n    const { host, hostname, origin, pathname, port, search } = new URL(url);\n    const e = encodeURIComponent;\n    const env = environment;\n    return `wss://www.julian-labs.com/websocket`\n  },},},},\n      ],\n      policies:[{handler:{export:\"SetHeadersInboundPolicy\",module:__import0,options:{headers:[{name:\"Authorization\",value:`Bearer ${environment[\"OPENAI_API_KEY\"] ? environment[\"OPENAI_API_KEY\"] : \"\"}`,},],},},name:\"set-headers-inbound\",policyType:\"set-headers-inbound\",},],\n      corsPolicies: [],\n    };\n  }\n  export default routes;\n  ", "import { Handler, ServiceProviderImpl } from \"@zuplo/runtime\";\nimport routeLoader from \"zuplo:routes\";\nimport * as schemaValidations from \"zuplo:schema-validations\";\nimport { runtimeInit } from \"zuplo:runtime-extension\";\nimport runtimeSettings from \"zuplo:runtime-settings\";\nimport buildEnvironment from \"./build.json\";\n\n// Instantiate services\nconst serviceProvider = new ServiceProviderImpl();\n\n// This is needed because we are using worker script (instead of module)\n// And we need to make this available outside of this file.\nglobalThis[\"__ZUPLO_SERVICE_PROVIDER\"] = serviceProvider;\n\nconst handler = new Handler(\n  routeLoader,\n  buildEnvironment,\n  runtimeSettings,\n  serviceProvider,\n  schemaValidations,\n  runtimeInit\n);\n\nexport default {\n  fetch(request, env, ctx) {\n    return handler.requestHandler(request, env, ctx)\n  },\n};\n", "const runtimeSettings = {\"developerPortal\":{\"basePath\":\"/docs\",\"enabled\":true,\"type\":\"zudoku\",\"urls\":{\"defaultUrl\":\"https://websockets-zuplo-gtw-main-92f335b.zuplo.site\",\"urls\":[\"https://websockets-zuplo-gtw-main-92f335b.zuplo.site\"]}},\"api\":{\"urls\":{\"defaultUrl\":\"https://websockets-zuplo-gtw-main-92f335b.d2.zuplo.dev\",\"urls\":[\"https://websockets-zuplo-gtw-main-92f335b.d2.zuplo.dev\"]}}};\nexport default runtimeSettings;", "{\n  \"BUILD_ID\": \"4b91246c-5554-4a47-8d99-8e99dc8c38d1\",\n  \"TIMESTAMP\": \"2025-10-03T20:57:28.935Z\",\n  \"BUILD_ENV\": \"production\",\n  \"ZUPLO_VERSION\": \"6.61.4\",\n  \"COMPATIBILITY_DATE\": \"2025-02-06\",\n  \"ACCOUNT_NAME\": \"rose_proper_loon\",\n  \"PROJECT_NAME\": \"websockets-zuplo-gtw\",\n  \"ENVIRONMENT_TYPE\": \"WORKING_COPY\",\n  \"IS_LOCAL_DEVELOPMENT\": false,\n  \"COMPATIBILITY_FLAGS\": {\n    \"runOutboundPoliciesOnHandlerOnAllStatuses\": true,\n    \"doNotRunHooksOnSystemRoutes\": true,\n    \"removeAllVendorHeadersExceptListed\": true,\n    \"allowCustomPorts\": true,\n    \"removeLegacyLogInitialization\": true,\n    \"useForwardRedirectsPropOnUrlForwardHandler\": true\n  }\n}"],
  "mappings": "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",
  "names": ["require_zuplo_schema_validations", "__commonJSMin", "_routes__SLASH_ws_SLASH_akamai_get", "_routes__SLASH_ws_SLASH_openai_get", "_routes__SLASH_ws_SLASH_echo_get", "routes", "__import0", "__import1", "_routes__SLASH_ws_SLASH_echo_get", "request", "context", "params", "url", "query", "method", "headers", "host", "hostname", "origin", "pathname", "port", "search", "e", "env", "environment", "_routes__SLASH_ws_SLASH_openai_get", "_routes__SLASH_ws_SLASH_akamai_get", "zuplo_routes_default", "schemaValidations", "runtimeSettings", "zuplo_runtime_settings_default", "build_default", "serviceProvider", "ServiceProviderImpl", "handler", "Handler", "zuplo_routes_default", "build_default", "zuplo_runtime_settings_default", "schemaValidations", "worker_default", "request", "env", "ctx"]
}
